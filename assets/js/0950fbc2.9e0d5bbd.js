"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[506],{5669:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>a,frontMatter:()=>r,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"how-to/pipeline-host","title":"Pipeline Host","description":"To begin creating your pipeline, your entry point is the PipelineHostBuilder.","source":"@site/docs/how-to/pipeline-host.md","sourceDirName":"how-to","slug":"/how-to/pipeline-host","permalink":"/ModularPipelines/docs/how-to/pipeline-host","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Pipeline Host","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"How-To","permalink":"/ModularPipelines/docs/category/how-to"},"next":{"title":"Defining Modules","permalink":"/ModularPipelines/docs/how-to/defining-modules"}}');var t=i(4848),s=i(8453);const r={title:"Pipeline Host",sidebar_position:1},l="Pipeline Host",c={},d=[];function u(e){const n={code:"code",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"pipeline-host",children:"Pipeline Host"})}),"\n",(0,t.jsxs)(n.p,{children:["To begin creating your pipeline, your entry point is the ",(0,t.jsx)(n.code,{children:"PipelineHostBuilder"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["The recommended way is to create a console application and then using this Host builder in your ",(0,t.jsx)(n.code,{children:"Program.cs"})," main method."]}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"PipelineHostBuilder"})," is based off of the Microsoft Generic Host, and provides access to familiar functionality:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Configuration Builders"}),"\n",(0,t.jsx)(n.li,{children:"Dependency Injection"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"It also exposes methods specific for a Pipeline, such as registering your custom Modules, or plugging in custom services, such as time providers, or setting log levels."}),"\n",(0,t.jsxs)(n.p,{children:["Modules can be registered directly on the ",(0,t.jsx)(n.code,{children:"PipelineHostBuilder"}),", or if you want to conditionally register them, they can also be registered on the ",(0,t.jsx)(n.code,{children:"IServiceCollection"})," within the ",(0,t.jsx)(n.code,{children:"ConfigureServices"})," method. This gives you access to the Host context, so you have the environment and configuration available to use in any logic."]}),"\n",(0,t.jsxs)(n.p,{children:["Once your pipeline has been configured, simply call ",(0,t.jsx)(n.code,{children:"ExecutePipelineAsync"})," and ",(0,t.jsx)(n.code,{children:"await"})," it."]}),"\n",(0,t.jsx)(n.p,{children:"An example pipeline can be seen here:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:'await PipelineHostBuilder.Create()\n    .ConfigureAppConfiguration((context, builder) =>\n    {\n        builder.AddJsonFile("appsettings.json")\n            .AddUserSecrets<Program>()\n            .AddEnvironmentVariables();\n    })\n    .ConfigureServices((context, collection) =>\n    {\n        collection.Configure<NuGetSettings>(context.Configuration.GetSection("NuGet"));\n        collection.Configure<PublishSettings>(context.Configuration.GetSection("Publish"));\n\n        if (context.HostingEnvironment.IsDevelopment()) \n        {\n            collection.AddModule<Module1>()\n                .AddModule<Module2>();\n        }\n        else \n        {\n            collection.AddModule<Module3>()\n                .AddModule<Module4>();\n        }\n    })\n    .AddModule<Module5>()\n    .AddModule<Module6>();\n    .ExecutePipelineAsync();\n'})})]})}function a(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>l});var o=i(6540);const t={},s=o.createContext(t);function r(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);