"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[5717],{328:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>d,frontMatter:()=>a,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"how-to/ignoring-failures","title":"Ignoring Failures","description":"Sometimes a module might throw an exception, but we simply don\'t care as it\'s not that important, or a specific error might be expected.","source":"@site/docs/how-to/ignoring-failures.md","sourceDirName":"how-to","slug":"/how-to/ignoring-failures","permalink":"/ModularPipelines/docs/how-to/ignoring-failures","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Ignoring Failures"},"sidebar":"tutorialSidebar","previous":{"title":"Hooks","permalink":"/ModularPipelines/docs/how-to/hooks"},"next":{"title":"Inheriting","permalink":"/ModularPipelines/docs/how-to/inheriting"}}');var t=i(4848),r=i(8453);const a={title:"Ignoring Failures"},s="Ignoring Failures",l={},c=[{value:"Using ModuleConfiguration",id:"using-moduleconfiguration",level:2},{value:"Always Ignore Failures",id:"always-ignore-failures",level:3},{value:"Conditional Failure Ignoring",id:"conditional-failure-ignoring",level:3},{value:"Async Condition",id:"async-condition",level:3},{value:"Combining with Other Behaviors",id:"combining-with-other-behaviors",level:2},{value:"Checking Failure Status",id:"checking-failure-status",level:2}];function u(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"ignoring-failures",children:"Ignoring Failures"})}),"\n",(0,t.jsx)(n.p,{children:"Sometimes a module might throw an exception, but we simply don't care as it's not that important, or a specific error might be expected."}),"\n",(0,t.jsx)(n.h2,{id:"using-moduleconfiguration",children:"Using ModuleConfiguration"}),"\n",(0,t.jsx)(n.h3,{id:"always-ignore-failures",children:"Always Ignore Failures"}),"\n",(0,t.jsx)(n.p,{children:"To always ignore failures from a module:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:"public class OptionalModule : Module<CommandResult>\n{\n    protected override ModuleConfiguration Configure() => ModuleConfiguration.Create()\n        .WithIgnoreFailures()\n        .Build();\n\n    protected override async Task<CommandResult?> ExecuteAsync(IModuleContext context, CancellationToken cancellationToken)\n    {\n        // If this fails, the pipeline continues\n    }\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"conditional-failure-ignoring",children:"Conditional Failure Ignoring"}),"\n",(0,t.jsx)(n.p,{children:"To ignore only specific types of failures:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:"public class MyModule : Module<CommandResult>\n{\n    protected override ModuleConfiguration Configure() => ModuleConfiguration.Create()\n        .WithIgnoreFailuresWhen((ctx, exception) => exception is ItemAlreadyExistsException)\n        .Build();\n\n    protected override async Task<CommandResult?> ExecuteAsync(IModuleContext context, CancellationToken cancellationToken)\n    {\n        // ItemAlreadyExistsException will be ignored, other exceptions will fail the pipeline\n    }\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"async-condition",children:"Async Condition"}),"\n",(0,t.jsx)(n.p,{children:"For conditions that require async operations:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:"public class MyModule : Module<CommandResult>\n{\n    protected override ModuleConfiguration Configure() => ModuleConfiguration.Create()\n        .WithIgnoreFailuresWhen(async (ctx, exception) =>\n        {\n            if (exception is HttpRequestException httpEx)\n            {\n                // Check if the service is in maintenance mode\n                var isMaintenanceMode = await CheckMaintenanceModeAsync();\n                return isMaintenanceMode;\n            }\n            return false;\n        })\n        .Build();\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"combining-with-other-behaviors",children:"Combining with Other Behaviors"}),"\n",(0,t.jsx)(n.p,{children:"Ignoring failures can be combined with other module behaviors:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:"public class ResilientModule : Module<CommandResult>\n{\n    protected override ModuleConfiguration Configure() => ModuleConfiguration.Create()\n        .WithRetryCount(3)  // Try 3 times first\n        .WithIgnoreFailuresWhen((ctx, ex) => ex is HttpRequestException)  // Then ignore HTTP errors\n        .WithAlwaysRun()  // Run even if dependencies failed\n        .Build();\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"checking-failure-status",children:"Checking Failure Status"}),"\n",(0,t.jsx)(n.p,{children:"Even when failures are ignored, you can check if a module failed from dependent modules:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:"var myModule = await GetModule<MyOptionalModule>();\n\nif (myModule.Exception is ItemAlreadyExistsException)\n{\n    // Handle the expected failure case\n    return null;\n}\n\nreturn await DoSomethingAsync();\n"})})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>s});var o=i(6540);const t={},r=o.createContext(t);function a(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);