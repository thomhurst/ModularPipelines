"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[166],{499:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>a,default:()=>u,frontMatter:()=>i,metadata:()=>r,toc:()=>c});var l=t(4848),o=t(8453);const i={title:"Parallelization"},a="Parallelization",r={id:"how-to/parallelization",title:"Parallelization",description:"As mentioned, modules will try to run in parallel by default, waiting on any dependencies if they need to.",source:"@site/docs/how-to/parallelization.md",sourceDirName:"how-to",slug:"/how-to/parallelization",permalink:"/ModularPipelines/docs/how-to/parallelization",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"Parallelization"},sidebar:"tutorialSidebar",previous:{title:"Logging",permalink:"/ModularPipelines/docs/how-to/logging"},next:{title:"Pipeline Host",permalink:"/ModularPipelines/docs/how-to/pipeline-host"}},s={},c=[{value:"Example",id:"example",level:2},{value:"Example",id:"example-1",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h1,{id:"parallelization",children:"Parallelization"}),"\n",(0,l.jsx)(n.p,{children:"As mentioned, modules will try to run in parallel by default, waiting on any dependencies if they need to."}),"\n",(0,l.jsx)(n.p,{children:"However, sometimes modules don't have any dependencies, but also it isn't a good idea trying to run them in parallel."}),"\n",(0,l.jsx)(n.p,{children:"As example of this could be installing applications. Windows for instance, doesn't like you trying to install multiple applications at the same time."}),"\n",(0,l.jsxs)(n.p,{children:["So if you want any modules to be run without parallelisation, there is the ",(0,l.jsx)(n.code,{children:"NotInParallel"})," attribute."]}),"\n",(0,l.jsx)(n.p,{children:"These modules will attempt to run first, before all other modules that can be run in parallel.\nIf these have any dependencies, they will be triggered too."}),"\n",(0,l.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-csharp",children:"[NotInParallel]\npublic class MyModule : Module\n{\n    protected override Task<IDictionary<string, object>?> ExecuteAsync(IPipelineContext context, CancellationToken cancellationToken)\n    {\n        // Do something\n    }\n}\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Not ",(0,l.jsx)(n.code,{children:"NotInParallel"})," attribute can also take a ",(0,l.jsx)(n.code,{children:"ConstraintKey"})," parameter.\nIf this is set, then a module will not run in parallel with other modules containing the same constraint key.\nIf another module has a different constraint key, these will still run in parallel."]}),"\n",(0,l.jsx)(n.h2,{id:"example-1",children:"Example"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-csharp",children:'[NotInParallel(ConstraintKey = "Install")]\npublic class InstallModule1 : Module\n{\n    protected override Task<IDictionary<string, object>?> ExecuteAsync(IPipelineContext context, CancellationToken cancellationToken)\n    {\n        // Do something\n    }\n}\n\n[NotInParallel(ConstraintKey = "Install")]\npublic class InstallModule2 : Module\n{\n    protected override Task<IDictionary<string, object>?> ExecuteAsync(IPipelineContext context, CancellationToken cancellationToken)\n    {\n        // Do something\n    }\n}\n\n[NotInParallel(ConstraintKey = "Build")]\npublic class BuildProjectModule : Module\n{\n    protected override Task<IDictionary<string, object>?> ExecuteAsync(IPipelineContext context, CancellationToken cancellationToken)\n    {\n        // Do something\n    }\n}\n'})}),"\n",(0,l.jsxs)(n.p,{children:["In the above example, ",(0,l.jsx)(n.code,{children:"InstallModule1"})," and ",(0,l.jsx)(n.code,{children:"InstallModule2"})," will not run at the same time. However, either of them could run at the same time as ",(0,l.jsx)(n.code,{children:"BuildProjectModule"}),"."]})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>r});var l=t(6540);const o={},i=l.createContext(o);function a(e){const n=l.useContext(i);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),l.createElement(i.Provider,{value:n},e.children)}}}]);